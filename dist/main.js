!function(){var t={37:function(t){!function(e){var r,i={},n={16:!1,18:!1,17:!1,91:!1},a="all",s={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},o={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},c=function(t){return o[t]||t.toUpperCase().charCodeAt(0)},h=[];for(r=1;r<20;r++)o["f"+r]=111+r;function l(t,e){for(var r=t.length;r--;)if(t[r]===e)return r;return-1}function f(t,e){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var u={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function g(t){for(r in n)n[r]=t[u[r]]}function d(t,e,r){var n,a;n=y(t),void 0===r&&(r=e,e="all");for(var s=0;s<n.length;s++)a=[],(t=n[s].split("+")).length>1&&(a=p(t),t=[t[t.length-1]]),t=t[0],(t=c(t))in i||(i[t]=[]),i[t].push({shortcut:n[s],scope:e,method:r,key:n[s],mods:a})}for(r in s)d[r]=!1;function v(){return a||"all"}function y(t){var e;return""==(e=(t=t.replace(/\s/g,"")).split(","))[e.length-1]&&(e[e.length-2]+=","),e}function p(t){for(var e=t.slice(0,t.length-1),r=0;r<e.length;r++)e[r]=s[e[r]];return e}function m(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent&&t.attachEvent("on"+e,(function(){r(window.event)}))}m(document,"keydown",(function(t){!function(t){var e,r,a,o,c,f;if(e=t.keyCode,-1==l(h,e)&&h.push(e),93!=e&&224!=e||(e=91),e in n)for(a in n[e]=!0,s)s[a]==e&&(d[a]=!0);else if(g(t),d.filter.call(this,t)&&e in i)for(f=v(),o=0;o<i[e].length;o++)if((r=i[e][o]).scope==f||"all"==r.scope){for(a in c=r.mods.length>0,n)(!n[a]&&l(r.mods,+a)>-1||n[a]&&-1==l(r.mods,+a))&&(c=!1);(0!=r.mods.length||n[16]||n[18]||n[17]||n[91])&&!c||!1===r.method(t,r)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}(t)})),m(document,"keyup",(function(t){var e,r=t.keyCode,i=l(h,r);if(i>=0&&h.splice(i,1),93!=r&&224!=r||(r=91),r in n)for(e in n[r]=!1,s)s[e]==r&&(d[e]=!1)})),m(window,"focus",(function(){for(r in n)n[r]=!1;for(r in s)d[r]=!1}));var k=e.key;e.key=d,e.key.setScope=function(t){a=t||"all"},e.key.getScope=v,e.key.deleteScope=function(t){var e,r,n;for(e in i)for(r=i[e],n=0;n<r.length;)r[n].scope===t?r.splice(n,1):n++},e.key.filter=function(t){var e=(t.target||t.srcElement).tagName;return!("INPUT"==e||"SELECT"==e||"TEXTAREA"==e)},e.key.isPressed=function(t){return"string"==typeof t&&(t=c(t)),-1!=l(h,t)},e.key.getPressedKeyCodes=function(){return h.slice(0)},e.key.noConflict=function(){var t=e.key;return e.key=k,t},e.key.unbind=function(t,e){var r,n,a,s,o,h=[];for(r=y(t),s=0;s<r.length;s++){if((n=r[s].split("+")).length>1&&(h=p(n),t=n[n.length-1]),t=c(t),void 0===e&&(e=v()),!i[t])return;for(a=0;a<i[t].length;a++)(o=i[t][a]).scope===e&&f(o.mods,h)&&(i[t][a]={})}},t.exports=d}(this)}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,r),a.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";class t{constructor(t){this.xCoordinate=t.xCoordinate,this.yCoordinate=t.yCoordinate,this.xVelocity=t.xVelocity,this.yVelocity=t.yVelocity,this.color=t.color}move(){this.xCoordinate=this.xCoordinate+this.xVelocity,this.yCoordinate=this.yCoordinate+this.yVelocity}}class e extends t{constructor(t){super(t),this.width=t.width,this.height=t.height}draw(t){t.fillStyle=this.color,t.fillRect(this.xCoordinate,this.yCoordinate,this.width,this.height)}}class i extends e{constructor(t){super(t),this.character=t.character,this.color=t.color||"black",this.canvasInterface=t.canvasInterface,this.typeable=t.typeable}draw(t){t.fillStyle=this.color,t.font=i.FONT,t.fillText(this.character,this.xCoordinate,this.yCoordinate)}get height(){this.canvasInterface.font=i.FONT;const t=this.canvasInterface.measureText(this.character);return t.actualBoundingBoxAscent+t.actualBoundingBoxDescent}set height(t){}}var n,a,s;n=i,s="20px Arial",(a=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(a="FONT"))in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s;class o{constructor(t){this.canvasInterface=t,this.width=t.canvas.width,this.height=t.canvas.height,this.characters=[],this.score=0,this.lives=5,this.gameOver=!1,this.targetBar=new e({xCoordinate:0,yCoordinate:400,xVelocity:0,yVelocity:0,color:"lightgrey",width:this.width,height:30,canvasInterface:this.canvasInterface})}addChar(){let t=this.width/5;const e=Math.floor(Math.random()*o.DICTIONARY.length);void 0===this.charX||this.charX+t>=this.width?this.charX=t:this.charX=this.charX+t;const r=new i({xCoordinate:this.charX,yCoordinate:0,xVelocity:0,yVelocity:2,character:o.DICTIONARY[e],canvasInterface:this.canvasInterface,typeable:!1});this.characters.push(r)}step(){for(let t=this.characters.length-1;t>=0;t--){const e=this.characters[t];e.move(),this.charOffCanvas(e)?this.characters.splice(t,1):this.colorChar(e)}this.lives<=0&&(this.pause(),this.gameOver=!0,console.log("game over"))}charOffCanvas(t){return t.yCoordinate>this.height+t.height&&(this.lives--,!0)}animate(){this.drawBackdrop("beige"),this.targetBar.draw(this.canvasInterface),this.characters.forEach((t=>{t.draw(this.canvasInterface)})),this.drawCounters()}drawCounters(){this.canvasInterface.fillStyle="black",this.canvasInterface.font="14px Arial";const t=.01*this.width,e=.99*this.height;this.canvasInterface.fillText(`Score: ${this.score}`,t,e);const r=.89*this.width,i=.99*this.height;this.canvasInterface.fillText(`Lives: ${this.lives}`,r,i)}start(){this.gameOver=!1,this.gameInterval=setInterval((()=>{this.step(),this.gameOver||this.animate()}),17),this.charInterval=setInterval((()=>{this.addChar()}),500)}pause(){clearInterval(this.gameInterval),clearInterval(this.charInterval)}colorChar(t){t.yCoordinate>=this.targetBar.yCoordinate&&t.yCoordinate<=this.targetBar.yCoordinate+this.targetBar.height+t.height?(t.typeable=!0,t.color="red"):(t.typeable=!1,t.color="black")}checkEntry(t){const e=this.characters.filter((e=>{if(e.character===t&&e.typeable)return this.score=this.score+10,this.lives=Math.min(this.lives+1,5),!0}));if(!(e.length>0))return!1;e.forEach((t=>{const e=this.characters.indexOf(t);this.characters.splice(e,1)}))}drawBackdrop(t){this.canvasInterface.fillStyle=t,this.canvasInterface.fillRect(0,0,this.width,this.height)}replayScreen(){console.log("replay screen"),this.drawBackdrop("grey"),this.characters=[],this.score=0,this.lives=5,this.charX=null,this.canvasInterface.fillStyle="black",this.canvasInterface.font="26px Arial";const t=.2*this.width,e=.5*this.height;this.canvasInterface.fillText("Select return to play again!",t,e)}}!function(t,e,r){(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(o,"DICTIONARY",["h"]);var c=r(37),h=r.n(c);const l=document.getElementById("game-canvas");l.width=500,l.height=500;const f=l.getContext("2d"),u=new class{constructor(t){this.canvasInterface=t,this.game=new o(t),this.bindKeys(),this.gameRunning=!1,this.updateHTMLScore()}bindKeys(){h()("return",(()=>{this.startGame()})),h()("h",(()=>this.game.checkEntry("h"))),h()("j",(()=>this.game.checkEntry("j"))),h()("k",(()=>this.game.checkEntry("k"))),h()("l",(()=>this.game.checkEntry("l"))),h()("space",(()=>this.gameToggle())),h()("right",(()=>{this.game.step(),this.game.animate()}))}startGame(){this.gameRunning=!0,this.game.start(),this.gameCheckInterval=setInterval((()=>{console.log("game checked"),this.checkGame()}),17)}checkGame(){this.game.gameOver&&(clearInterval(this.gameCheckInterval),this.gameRunning=!1,(""===document.cookie||this.game.score>this.cookieScore())&&(document.cookie=`highScore=${this.game.score}`,this.updateHTMLScore()),this.game.replayScreen())}cookieScore(){let t=null;const e=document.cookie.split(";");for(let r=0;r<e.length;r++){const i=e[r].split("=");if("highScore"===i[0]){t=parseInt(i[1]);break}}return t}updateHTMLScore(){document.getElementById("scores").innerHTML=`High Score: ${this.cookieScore()}`}gameToggle(){this.gameRunning?this.pauseGame():this.startGame()}pauseGame(){this.gameRunning=!1,this.game.pause()}}(f);window.view=u,u.startGame()}()}();
//# sourceMappingURL=main.js.map