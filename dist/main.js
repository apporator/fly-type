!function(){var t={37:function(t){!function(e){var r,n={},i={16:!1,18:!1,17:!1,91:!1},a="all",o={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},s={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},c=function(t){return s[t]||t.toUpperCase().charCodeAt(0)},h=[];for(r=1;r<20;r++)s["f"+r]=111+r;function l(t,e){for(var r=t.length;r--;)if(t[r]===e)return r;return-1}function u(t,e){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var f={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function d(t){for(r in i)i[r]=t[f[r]]}function g(t,e,r){var i,a;i=y(t),void 0===r&&(r=e,e="all");for(var o=0;o<i.length;o++)a=[],(t=i[o].split("+")).length>1&&(a=p(t),t=[t[t.length-1]]),t=t[0],(t=c(t))in n||(n[t]=[]),n[t].push({shortcut:i[o],scope:e,method:r,key:i[o],mods:a})}for(r in o)g[r]=!1;function v(){return a||"all"}function y(t){var e;return""==(e=(t=t.replace(/\s/g,"")).split(","))[e.length-1]&&(e[e.length-2]+=","),e}function p(t){for(var e=t.slice(0,t.length-1),r=0;r<e.length;r++)e[r]=o[e[r]];return e}function m(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent&&t.attachEvent("on"+e,(function(){r(window.event)}))}m(document,"keydown",(function(t){!function(t){var e,r,a,s,c,u;if(e=t.keyCode,-1==l(h,e)&&h.push(e),93!=e&&224!=e||(e=91),e in i)for(a in i[e]=!0,o)o[a]==e&&(g[a]=!0);else if(d(t),g.filter.call(this,t)&&e in n)for(u=v(),s=0;s<n[e].length;s++)if((r=n[e][s]).scope==u||"all"==r.scope){for(a in c=r.mods.length>0,i)(!i[a]&&l(r.mods,+a)>-1||i[a]&&-1==l(r.mods,+a))&&(c=!1);(0!=r.mods.length||i[16]||i[18]||i[17]||i[91])&&!c||!1===r.method(t,r)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}(t)})),m(document,"keyup",(function(t){var e,r=t.keyCode,n=l(h,r);if(n>=0&&h.splice(n,1),93!=r&&224!=r||(r=91),r in i)for(e in i[r]=!1,o)o[e]==r&&(g[e]=!1)})),m(window,"focus",(function(){for(r in i)i[r]=!1;for(r in o)g[r]=!1}));var w=e.key;e.key=g,e.key.setScope=function(t){a=t||"all"},e.key.getScope=v,e.key.deleteScope=function(t){var e,r,i;for(e in n)for(r=n[e],i=0;i<r.length;)r[i].scope===t?r.splice(i,1):i++},e.key.filter=function(t){var e=(t.target||t.srcElement).tagName;return!("INPUT"==e||"SELECT"==e||"TEXTAREA"==e)},e.key.isPressed=function(t){return"string"==typeof t&&(t=c(t)),-1!=l(h,t)},e.key.getPressedKeyCodes=function(){return h.slice(0)},e.key.noConflict=function(){var t=e.key;return e.key=w,t},e.key.unbind=function(t,e){var r,i,a,o,s,h=[];for(r=y(t),o=0;o<r.length;o++){if((i=r[o].split("+")).length>1&&(h=p(i),t=i[i.length-1]),t=c(t),void 0===e&&(e=v()),!n[t])return;for(a=0;a<n[t].length;a++)(s=n[t][a]).scope===e&&u(s.mods,h)&&(n[t][a]={})}},t.exports=g}(this)}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,r),a.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";class t{constructor(t){this.xCoordinate=t.xCoordinate,this.yCoordinate=t.yCoordinate,this.xVelocity=t.xVelocity,this.yVelocity=t.yVelocity,this.color=t.color}move(){this.xCoordinate=this.xCoordinate+this.xVelocity,this.yCoordinate=this.yCoordinate+this.yVelocity}}class e extends t{constructor(t){super(t),this.width=t.width,this.height=t.height}draw(t){t.fillStyle=this.color,t.fillRect(this.xCoordinate,this.yCoordinate,this.width,this.height)}}class n extends e{constructor(t){super(t),this.character=t.character,this.color=t.color||"black",this.canvasInterface=t.canvasInterface}draw(t){t.fillStyle=this.color,t.font=n.FONT,t.fillText(this.character,this.xCoordinate,this.yCoordinate)}get height(){this.canvasInterface.font=n.FONT;const t=this.canvasInterface.measureText(this.character),e=t.actualBoundingBoxAscent+t.actualBoundingBoxDescent;return console.log("new height"),e}set height(t){}}var i,a,o;i=n,o="20px Arial",(a=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(a="FONT"))in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o;class s{constructor(t){this.canvasInterface=t,this.width=t.canvas.width,this.height=t.canvas.height,this.charXpos=[.23,.46,.69,.92],this.characters=[],this.targetBar=new e({xCoordinate:0,yCoordinate:400,xVelocity:0,yVelocity:0,color:"lightgrey",width:this.width,height:30,canvasInterface:this.canvasInterface})}addChar(){let t=this.width/5;void 0===this.charX||this.charX+t>=this.width?this.charX=t:this.charX=this.charX+t;const e=new n({xCoordinate:this.charX,yCoordinate:0,xVelocity:0,yVelocity:3,character:"A",canvasInterface:this.canvasInterface});this.characters.push(e)}step(){this.characters.forEach((t=>{t.move(),this.colorChar(t)}))}animate(){this.reset(),this.characters.forEach((t=>{t.draw(this.canvasInterface)}))}reset(){this.canvasInterface.fillStyle="beige",this.canvasInterface.fillRect(0,0,this.width,this.height),this.targetBar.draw(this.canvasInterface)}start(){this.gameInterval=setInterval((()=>{this.step(),this.animate()}),17),this.charInterval=setInterval((()=>{this.addChar()}),500)}pause(){this.gameInterval&&clearInterval(this.gameInterval),this.charInterval&&clearInterval(this.charInterval)}colorChar(t){t.yCoordinate>=this.targetBar.yCoordinate&&t.yCoordinate<=this.targetBar.yCoordinate+this.targetBar.height+t.height?t.color="red":t.color="black"}}!function(t,e,r){(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(s,"DICTIONARY",["H","J","K","L"]);var c=r(37),h=r.n(c);const l=document.getElementById("game-canvas");l.width=500,l.height=500;const u=l.getContext("2d"),f=new class{constructor(t){this.canvasInterface=t,this.game=new s(t),this.bindKeys(),this.gameRunning=!1}bindKeys(){h()("k",(()=>console.log("k key pressed"))),h()("h",(()=>console.log("h key pressed"))),h()("j",(()=>console.log("j key pressed"))),h()("l",(()=>console.log("l key pressed"))),h()("space",(()=>this.gameToggle())),h()("right",(()=>{this.game.step(),this.game.animate()}))}startGame(){this.gameRunning=!0,this.game.start()}gameToggle(){this.gameRunning?this.pauseGame():this.startGame()}pauseGame(){this.gameRunning=!1,this.game.pause()}}(u);window.view=f,f.startGame()}()}();
//# sourceMappingURL=main.js.map